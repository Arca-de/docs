(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{116:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/subdomain-add-c6849f4f4fc599be67a8addeadad087c.png"},117:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/subdomain-view-2b65e50153b2ed93d0cdf07312a592ab.png"},118:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/cpanel-db-1-07b48d74202a8b441d073ff050a3fee4.png"},119:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/01-not-installed-1e43cc853240c42a1fffb2c1999cfbef.png"},120:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/02-installer-start-a5cf2fef6f6b37cb06d73ee16317ccd1.png"},121:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/03-requirements-a154b283134f17994bacfcb9c3b76519.png"},122:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/04-database-page-d380b4de268cf84a623a76ec8e6bb80a.png"},123:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/05-database-installed-672f9990a191d43029a4865b1ec0c1dc.png"},124:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/10-completed-20140599382303cda078423a19d653ef.png"},125:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/07-importer-664f3ff1e798233e64d0f27d017f7392.png"},83:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return f})),a.d(t,"metadata",(function(){return O})),a.d(t,"rightToc",(function(){return j})),a.d(t,"default",(function(){return y}));var n=a(2),i=a(6),o=a(0),l=a.n(o),r=a(84),c=a(91),s=a(86),u=a(62),p=a.n(u),d=37,b=39;var m=function(e){var t=e.block,a=e.children,n=e.defaultValue,i=e.values,r=e.groupId,u=Object(c.a)(),m=u.tabGroupChoices,h=u.setTabGroupChoices,f=Object(o.useState)(n),O=f[0],j=f[1],g=Object(o.useState)(!1),y=g[0],v=g[1];if(null!=r){var w=m[r];null!=w&&w!==O&&i.some((function(e){return e.value===w}))&&j(w)}var N=function(e){j(e),null!=r&&h(r,e)},T=[],k=function(e){e.metaKey||e.altKey||e.ctrlKey||v(!0)},C=function(){v(!1)};return Object(o.useEffect)((function(){window.addEventListener("keydown",k),window.addEventListener("mousedown",C)}),[]),l.a.createElement("div",null,l.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(s.a)("tabs",{"tabs--block":t})},i.map((function(e){var t=e.value,a=e.label;return l.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":O===t,className:Object(s.a)("tabs__item",p.a.tabItem,{"tabs__item--active":O===t}),style:y?{}:{outline:"none"},key:t,ref:function(e){return T.push(e)},onKeyDown:function(e){!function(e,t,a){switch(a.keyCode){case b:!function(e,t){var a=e.indexOf(t)+1;e[a]?e[a].focus():e[0].focus()}(e,t);break;case d:!function(e,t){var a=e.indexOf(t)-1;e[a]?e[a].focus():e[e.length-1].focus()}(e,t)}}(T,e.target,e),k(e)},onFocus:function(){return N(t)},onClick:function(){N(t),v(!1)},onPointerDown:function(){return v(!1)}},a)}))),l.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},o.Children.toArray(a).filter((function(e){return e.props.value===O}))[0]))};var h=function(e){return l.a.createElement("div",null,e.children)},f={id:"installation",title:"Installation",sidebar_label:"Installation"},O={unversionedId:"installation/installation",id:"installation/installation",isDocsHomePage:!1,title:"Installation",description:'The first step is to upload your files, and ensure that the dependencies are loaded. If you\'re using a "fat" distribution, the vendor directory with the composer dependencies is already included.',source:"@site/docs/installation/installation.md",permalink:"/installation/installation",editUrl:"https://github.com/phpvms/docs/master/docs/installation/installation.md",sidebar_label:"Installation",sidebar:"someSidebar",previous:{title:"Download",permalink:"/installation/download"},next:{title:"Cron/Scheduled Tasks",permalink:"/installation/cron"}},j=[{value:"Creating your database and credentials manually",id:"creating-your-database-and-credentials-manually",children:[]},{value:"Using the cPanel Database Wizard",id:"using-the-cpanel-database-wizard",children:[]},{value:"New Install",id:"new-install",children:[]},{value:"Upgrading from legacy",id:"upgrading-from-legacy",children:[]},{value:"Next Steps",id:"next-steps",children:[]}],g={rightToc:j};function y(e){var t=e.components,o=Object(i.a)(e,["components"]);return Object(r.a)("wrapper",Object(n.a)({},g,o,{components:t,mdxType:"MDXLayout"}),Object(r.a)("p",null,'The first step is to upload your files, and ensure that the dependencies are loaded. If you\'re using a "fat" distribution, the ',Object(r.a)("inlineCode",{parentName:"p"},"vendor")," directory with the composer dependencies is already included."),Object(r.a)("hr",null),Object(r.a)("h1",{id:"uploading-filesvirtual-hosts"},"Uploading files/virtual hosts"),Object(r.a)("p",null,"If you are uploading to a shared host or to cPanel, chose one of the following methods when uploading your files."),Object(r.a)("div",{className:"admonition admonition-tip alert alert--success"},Object(r.a)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.a)("h5",{parentName:"div"},Object(r.a)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.a)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(r.a)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(r.a)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.a)("p",{parentName:"div"},"Uploading and change the path of the public directory is the recommended method"))),Object(r.a)(m,{defaultValue:"public-dir",values:[{label:"Copy the Public Directory",value:"public-dir"},{label:"Subdomain",value:"subdomain"},{label:"Symlink",value:"symlink"},{label:"Direct Upload",value:"direct-upload"}],mdxType:"Tabs"},Object(r.a)(h,{value:"public-dir",mdxType:"TabItem"},"This method works well if your main site is going to be phpVMS, and you're not running something like Wordpress. Running phpVMS in a subdirectory isn't recommended (see method 2 instead).",Object(r.a)("p",null,"  Download/upload phpVMS into a ",Object(r.a)("inlineCode",{parentName:"p"},"phpvms")," folder in your home folder. It should look something like:"),Object(r.a)("pre",null,Object(r.a)("code",Object(n.a)({parentName:"pre"},{}),"/home/youruser\n  phpvms\n  public_ftp\n  public_html\n")),Object(r.a)("p",null,"  Next, copy the files from the ",Object(r.a)("inlineCode",{parentName:"p"},"/public")," folder into the ",Object(r.a)("inlineCode",{parentName:"p"},"public_html")," folder, and then open the ",Object(r.a)("inlineCode",{parentName:"p"},"index.php")," file, to edit this line:"),Object(r.a)("pre",null,Object(r.a)("code",Object(n.a)({parentName:"pre"},{className:"language-php"}),"$path_to_phpvms_folder = __DIR__.'/../';\n")),Object(r.a)("p",null,"  You'll have to change it to :"),Object(r.a)("pre",null,Object(r.a)("code",Object(n.a)({parentName:"pre"},{className:"language-php"}),"$path_to_phpvms_folder = __DIR__.'/../phpvms';\n")),Object(r.a)("p",null,"  That will then point to the the ",Object(r.a)("inlineCode",{parentName:"p"},"/phpvms")," folder, if you're following the paths above"),Object(r.a)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.a)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.a)("h5",{parentName:"div"},Object(r.a)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.a)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.a)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.a)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.a)("p",{parentName:"div"},"  Updates/auto-updates won't update the files in the ",Object(r.a)("inlineCode",{parentName:"p"},"/public_html")," folder, you'll need to update them manually. The other method, the symlink method, is recommended if you have command-line access and are more comfortable creating those types of links.")))),Object(r.a)(h,{value:"subdomain",mdxType:"TabItem"},"Creating a subdomain is the next recommended method, if you're unable to change the `public_html` path (this might not always be feasiable). Upload phpVMS to a directory with the name of your subdomain, for example, `demo.vmshost.io`. It should be parallel to the `public_html` folder (as above). In this example, I want to create the subdomain `demo.vmshost.io`.",Object(r.a)("p",null,"  First, create a folder to extract phpVMS into:"),Object(r.a)("pre",null,Object(r.a)("code",Object(n.a)({parentName:"pre"},{}),"/home/youruser\n  demo.vmshost.io < Extract phpvms files into here\n  public_ftp\n  public_html\n")),Object(r.a)("p",null,'  Next, create a subdomain cPanel, go to "Subdomains", and create the subdomain. For the "Document Root", enter the path above, with the public folder - ',Object(r.a)("inlineCode",{parentName:"p"},"demo.vmshost.io/public"),". Usually, cPanel will autocomplete the path to be the subdomain - so just add ",Object(r.a)("inlineCode",{parentName:"p"},"/public")," to the end of it."),Object(r.a)("p",null,"  ",Object(r.a)("img",{src:a(116).default})),Object(r.a)("p",null,"  It will look like this:"),Object(r.a)("p",null,"  ",Object(r.a)("img",{src:a(117).default}))),Object(r.a)(h,{value:"symlink",mdxType:"TabItem"},"This method works well if your main site is going to be phpVMS, and you're not running something like Wordpress. Running phpVMS in a subdirectory isn't recommended (see method 2 instead).",Object(r.a)("p",null,"  Download/upload phpVMS into a ",Object(r.a)("inlineCode",{parentName:"p"},"phpvms")," folder in your home folder. It should look something like:"),Object(r.a)("pre",null,Object(r.a)("code",Object(n.a)({parentName:"pre"},{}),"/home/youruser\n  phpvms\n  public_ftp\n  public_html\n")),Object(r.a)("p",null,"  To make this work properly and be secure, we're going to change the ",Object(r.a)("inlineCode",{parentName:"p"},"public_html")," directory to point into the phpVMS public directory. Then you can upload files as usual, but phpVMS will be the primary entry point. When you create folder/files in the ",Object(r.a)("inlineCode",{parentName:"p"},"public_html")," directory, they'll actually get created into the ",Object(r.a)("inlineCode",{parentName:"p"},"phpvms/public")," folder."),Object(r.a)("p",null,"  SSH into your server, symlink the ",Object(r.a)("inlineCode",{parentName:"p"},"public_html")," folder to point to ",Object(r.a)("inlineCode",{parentName:"p"},"phpvms/public")," instead:"),Object(r.a)("pre",null,Object(r.a)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"mv public_html public_html_backup\nln -s phpvms/public/ public_html\n")),Object(r.a)("p",null,"  !!! Ensure that the permissions of the ",Object(r.a)("inlineCode",{parentName:"p"},"phpvms")," folder are correct (normally 0770), though check with your host to make sure")),Object(r.a)(h,{value:"direct-upload",mdxType:"TabItem"},"This method isn't recommended because it can potentially expose your install if the `.htaccess` or something isn't correctly configured. Upload the files directly into the `public_html` folder, and make sure the `.htaccess` file is active (check with your webhost). This uses the `public` folder directly")),Object(r.a)("hr",null),Object(r.a)("h1",{id:"database-setup"},"Database Setup"),Object(r.a)("h3",{id:"creating-your-database-and-credentials-manually"},"Creating your database and credentials manually"),Object(r.a)("p",null,"Refer to your hosts documentation for specifics - the database name, username and password here are just examples, replace them with your own. This example is for MySQL:"),Object(r.a)("pre",null,Object(r.a)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),"CREATE DATABASE IF NOT EXISTS `phpvms` CHARACTER SET UTF8 COLLATE utf8_unicode_ci;\nCREATE USER 'phpvms'@'localhost' IDENTIFIED BY 'password';\nGRANT ALL PRIVILEGES ON phpvms.* TO 'phpvms'@'localhost';\nFLUSH PRIVILEGES;\n")),Object(r.a)("h3",{id:"using-the-cpanel-database-wizard"},"Using the cPanel Database Wizard"),Object(r.a)("p",null,"You can also use the cPanel Wizard to create the credentials prior to install"),Object(r.a)("p",null,Object(r.a)("img",{src:a(118).default})),Object(r.a)("hr",null),Object(r.a)("h1",{id:"running-the-installer"},"Running the Installer"),Object(r.a)("div",{className:"admonition admonition-info alert alert--info"},Object(r.a)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.a)("h5",{parentName:"div"},Object(r.a)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.a)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.a)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(r.a)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.a)("p",{parentName:"div"},"There isn't a ",Object(r.a)("inlineCode",{parentName:"p"},"setup")," folder in the tar file. It's done as a Laravel route, which serves to see that your webserver/htaccess files are working correctly"))),Object(r.a)("p",null,"Once you go to your site, you'll see a page like this, click to proceed to the installer."),Object(r.a)("p",null,Object(r.a)("img",{src:a(119).default}),"\n",Object(r.a)("img",{src:a(120).default})),Object(r.a)("p",null,"After clicking next, you'll see the requirements check page. The installer will only let you proceeed if all of the requirements are met."),Object(r.a)("p",null,Object(r.a)("img",{src:a(121).default})),Object(r.a)("p",null,"The next page brings you to the database setup page. "),Object(r.a)("ul",null,Object(r.a)("li",{parentName:"ul"},"Enter the name of your site and the URL"),Object(r.a)("li",{parentName:"ul"},"Enter your database credentials. ",Object(r.a)("ul",{parentName:"li"},Object(r.a)("li",{parentName:"ul"},'You can test to make sure they\'re working by clicking the "Test Database Credentials" button.')))),Object(r.a)("p",null,Object(r.a)("img",{src:a(122).default})),Object(r.a)("p",null,'After clicking "Setup Database", you\'ll see the installation screen. Hit next to proceed:'),Object(r.a)("p",null,Object(r.a)("img",{src:a(123).default})),Object(r.a)("h2",{id:"new-install"},"New Install"),Object(r.a)("p",null,"You'll be brought to the initial setup screen. There is an option here to update yourCreate your first airline here, along with your user and password. This will be automatically made as an admin user."),Object(r.a)("p",null,Object(r.a)("img",{src:a(95).default})),Object(r.a)("p",null,"After setting that up, you'll see the completion screen, where you can click next and proceed to login. You'll see your dashboard after logging in, and the installation is complete!"),Object(r.a)("p",null,Object(r.a)("img",{src:a(124).default})),Object(r.a)("h2",{id:"upgrading-from-legacy"},"Upgrading from legacy"),Object(r.a)("p",null,Object(r.a)("img",{src:a(125).default})),Object(r.a)("p",null,"For the database information, enter the credentials and information to your old database"),Object(r.a)("hr",null),Object(r.a)("h2",{id:"next-steps"},"Next Steps"),Object(r.a)("ol",null,Object(r.a)("li",{parentName:"ol"},"Read ",Object(r.a)("a",Object(n.a)({parentName:"li"},{href:"/configuration/files"}),"about the configuration files"),"."),Object(r.a)("li",{parentName:"ol"},Object(r.a)("a",Object(n.a)({parentName:"li"},{href:"http://docs.phpvms.net/configuration/cron"}),"Setup the cron task on your server")),Object(r.a)("li",{parentName:"ol"},Object(r.a)("a",Object(n.a)({parentName:"li"},{href:"http://docs.phpvms.net/configuration/email"}),"Configure your mail server")),Object(r.a)("li",{parentName:"ol"},Object(r.a)("a",Object(n.a)({parentName:"li"},{href:"http://docs.phpvms.net/configuration/recaptcha"}),"Get Recaptcha working"))))}y.isMDXComponent=!0},84:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(0),i=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=i.a.createContext({}),u=function(e){var t=i.a.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},d=i.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=u(a),b=n,m=d["".concat(l,".").concat(b)]||d[b]||p[b]||o;return a?i.a.createElement(m,r(r({ref:t},s),{},{components:a})):i.a.createElement(m,r({ref:t},s))}));function b(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,l=new Array(o);l[0]=d;var r={};for(var c in t)hasOwnProperty.call(t,c)&&(r[c]=t[c]);r.originalType=e,r.mdxType="string"==typeof e?e:n,l[1]=r;for(var s=2;s<o;s++)l[s]=a[s];return i.a.createElement.apply(null,l)}return i.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"},86:function(e,t,a){"use strict";function n(e){var t,a,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=n(e[t]))&&(i&&(i+=" "),i+=a);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,a=0,i="";a<arguments.length;)(e=arguments[a++])&&(t=n(e))&&(i&&(i+=" "),i+=t);return i}},90:function(e,t,a){"use strict";var n=a(0),i=Object(n.createContext)(void 0);t.a=i},91:function(e,t,a){"use strict";var n=a(0),i=a(90);t.a=function(){var e=Object(n.useContext)(i.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},95:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/06-va-information-30612d3a575d2324f2bf7562e3d20958.png"}}]);